version: "2.0"
session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true
intents:
  - greet
  - goodbye
  - affirm
  - deny
  - mood_great
  - mood_unhappy
  - bot_challenge
  - medicine
  - medicine_requested
  - inform_insurancestatus
  # spenden
  - spenden_erhalten
  - spenden_specific
  - geld_benoetigen
  #- inform_can_not_go_alone
  - hygiene
  - unterkunft_suche
  - hygiene_suche
  - hygiene_specific
  - suche_unterkunft
  - inform

entities:
  - alter
  - drogen
  - drogenabhaengig
  - geschlecht
  - go_alone
  - haustier
  - haustierhalter
  - hygieneartikel
  - insurancestatus
  - volljaehrig
  - jugendlich
  - notunterkunft
  - unterkunft
  #spenden
  - spendenartikel
  - spendeErhalten
  - geld

slots:
  unterkunft:
    type: text
    influence_conversation: true
  notunterkunft:
    type: bool
    influence_conversation: true
  insurancestatus:
    type: text
    influence_conversation: true
  go_alone:
    type: bool
    influence_conversation: true
  geschlecht:
    type: categorical
    values:
      - m√§nnlich
      - weiblich
      - divers
    influence_conversation: true
  alter:
    type: text
    influence_conversation: true
  volljaehrig:
    type: bool
    influence_conversation: true
  jugendlich:
    type: bool
    influence_conversation: true
  haustierhalter:
    type: text
    influence_conversation: false
  haustier:
    type: bool
    influence_conversation: true
  hygieneartikel:
    type: list
    influence_conversation: false
  drogen:
    type: text
    influence_conversation: false
  # spenden:
  spendenartikel:
    type: list
    influence_conversation: false
  spendeErhalten:
    type: bool
    influence_conversation: true
  geld: 
    type: text
  drogenabhaengig:
    type: bool
    influence_conversation: true

actions:
  - validate_informationen_form
  - validate_unterkunft_form
  - validate_hygieneliste_form
  - action_answer_hygiene
  # Spende
  - validate_spendenartikel_form
  - action_answer_spende
  - validate_spendeErhalten_form

forms:
  informationen_form:
    required_slots:
      alter:
        - type: from_entity
          entity: alter
          intent: inform
      geschlecht:
        - type: from_entity
          entity: geschlecht
          intent: inform
      haustierhalter:
        - type: from_intent
          value: True
          intent: affirm
        - type: from_intent
          value: False
          intent: deny
        - type: from_intent
          value: None
          intent: inform
      drogenabhaengig:
        - type: from_intent
          value: True
          intent: affirm
        - type: from_intent
          value: False
          intent: deny
        - type: from_intent
          value: None
          intent: inform
  unterkunft_form:
    required_slots:
      notunterkunft:
        - type: from_intent
          value: True
          intent: affirm
        - type: from_intent
          value: False
          intent: deny
        - type: from_intent
          value: None
          intent: suche_unterkunft
  hygieneliste_form:
    required_slots:
      hygieneartikel:
        - type: from_entity
          entity: hygieneartikel
          intent: hygiene_specific
  # spenden
  spendenartikel_form:
    required_slots:
      spendenartikel:
        - type: from_entity
          entity: spendenartikel
          intent: spende_specific
  spendeErhalten_form:
    required_slots:
      spendeErhalten:
        - type: from_intent
          value: True
          intent: affirm
        - type: from_intent
          value: False
          intent: deny
        - type: from_intent
          value: None
          intent: spenden_erhalten