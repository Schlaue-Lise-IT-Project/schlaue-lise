version: "2.0"
session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true
intents:
  - greet
  - goodbye
  - affirm
  - deny
  # Bot Challenge
  - bot_challenge
  - bot_challenge_yes
  - bot_challenge_no
  # Medizin
  - medicine
  - medicine_requested
  - medicine_specific_insurancestatus
  - medicine_specific_emergency
  - medicine_all_information
  # spenden
  - spenden
  - spenden_specific
  - geld_benoetigen
  # Hygiene
  - hygiene_suche
  - hygiene_specific
  - suche_unterkunft
  - inform
  # Default / Fallback
  - out_of_scope

entities:
  - alter
  - drogen
  - drogenabhaengig
  - geschlecht
  - medicine
  - emergency
  - insurancestatus
  - haustier
  - haustierhalter
  # Hygiene
  - hygieneartikel
  - volljaehrig
  - jugendlich
  - notunterkunft
  - unterkunft
  #spenden
  - spendenartikel
  - spendeErhalten
  - geld

slots:
  unterkunft:
    type: text
    influence_conversation: true
  notunterkunft:
    type: bool
    influence_conversation: true
  medicine:
    type: text
    influence_conversation: true
  insurancestatus:
    type: bool
    influence_conversation: true
  emergency:
    type: bool
    influence_conversation: true
  geschlecht:
    type: categorical
    values:
      - m√§nnlich
      - weiblich
      - divers
    influence_conversation: true
  alter:
    type: text
    influence_conversation: true
  volljaehrig:
    type: bool
    influence_conversation: true
  jugendlich:
    type: bool
    influence_conversation: true
  haustierhalter:
    type: bool
    influence_conversation: true
  haustier:
    type: text
    influence_conversation: false
  # Hygiene
  hygieneartikel:
    type: list
    influence_conversation: false
  drogen:
    type: text
    influence_conversation: false
  # spenden:
  spendenartikel:
    type: list
    influence_conversation: false
  spendeErhalten:
    type: bool
    influence_conversation: true
  geld:
    type: text
  drogenabhaengig:
    type: bool
    influence_conversation: true

actions:
  - validate_informationen_form
  - validate_unterkunft_form
  - validate_hygiene_form
  - action_answer_hygiene
  # Spende
  - validate_spendenartikel_form
  - action_answer_spende
  - validate_spendeErhalten_form
  # URL
  - action_answer_url
  - validate_medicine_form

forms:
  informationen_form:
    required_slots:
      alter:
        - type: from_entity
          entity: alter
          intent: inform
      geschlecht:
        - type: from_entity
          entity: geschlecht
          intent: inform
        - type: from_intent
          intent: deny
          value: divers
      haustierhalter:
        - type: from_intent
          value: True
          intent: affirm
        - type: from_intent
          value: False
          intent: deny
        - type: from_intent
          value: None
          intent: inform
      drogenabhaengig:
        - type: from_intent
          value: True
          intent: affirm
        - type: from_intent
          value: False
          intent: deny
        - type: from_intent
          value: None
          intent: inform
  unterkunft_form:
    required_slots:
      notunterkunft:
        - type: from_intent
          value: True
          intent: affirm
        - type: from_intent
          value: False
          intent: deny
        - type: from_intent
          value: None
          intent: suche_unterkunft
  hygiene_form:
    required_slots:
      hygieneartikel:
        - type: from_entity
          entity: hygieneartikel
          intent: hygiene_specific
  # spenden
  spendenartikel_form:
    required_slots:
      spendenartikel:
        - type: from_entity
          entity: spendenartikel
          intent: spende_specific
  spendeErhalten_form:
    required_slots:
      spendeErhalten:
        - type: from_intent
          value: True
          intent: affirm
        - type: from_intent
          value: False
          intent: deny
        - type: from_intent
          value: None
          intent: spenden
  medicine_form:
    required_slots:
      emergency:
        - type: from_intent
          value: True
          intent: affirm
        - type: from_intent
          value: False
          intent: deny
        - type: from_intent
          value: None
          intent: medicine_requested
      insurancestatus:
        - type: from_intent
          value: True
          intent: affirm
        - type: from_intent
          value: False
          intent: deny
        - type: from_intent
          value: None
          intent: medicine_requested
